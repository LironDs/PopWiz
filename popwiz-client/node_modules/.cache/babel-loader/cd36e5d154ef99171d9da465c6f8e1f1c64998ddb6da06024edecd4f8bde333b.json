{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useParams } from \"react-router-dom\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserProfile = ({\n  userInfo,\n  setUserInfo\n}) => {\n  _s();\n  let {\n    _id\n  } = useParams();\n  let [product, setProduct] = useState({\n    name: \"\",\n    license: \"\",\n    description: \"\",\n    image: \"\",\n    imageAlt: \"\",\n    price: 0,\n    category: \"\",\n    inStock: \"\"\n  });\n  useEffect(() => {\n    getProductById(String(_id)).then(res => {\n      setProduct(res.data);\n    }).catch(error => console.log(error));\n  }, []);\n  let formik = useFormik({\n    initialValues: {\n      name: product.name,\n      license: product.license,\n      image: product.image,\n      imageAlt: product.imageAlt,\n      description: product.description,\n      price: product.price,\n      category: product.category,\n      inStock: product.inStock\n    },\n    enableReinitialize: true,\n    validationSchema: yup.object({\n      name: yup.string().required().min(2),\n      license: yup.string().required().min(2),\n      description: yup.string().required().min(6),\n      image: yup.string(),\n      imageAlt: yup.string(),\n      price: yup.number().required(),\n      category: yup.string().required(),\n      inStock: yup.string().required()\n    }),\n    onSubmit: values => {\n      console.log(_id);\n      updateProduct(values, String(_id)).then(res => {\n        navigate(\"/\");\n        alert(\"Product updated successfully!\");\n      }).catch(error => {\n        if (error.response && error.response.status === 400) {\n          alert(error.response.data); // Display the error message in an alert\n        } else {\n          console.error(\"Error:\", error);\n        }\n      });\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n};\n_s(UserProfile, \"JAmAATUOssdbYHdLr5Z3wJaoJ+0=\", true, function () {\n  return [useParams];\n});\n_c = UserProfile;\nexport default UserProfile;\nvar _c;\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"names":["useParams","Fragment","_Fragment","jsxDEV","_jsxDEV","UserProfile","userInfo","setUserInfo","_s","_id","product","setProduct","useState","name","license","description","image","imageAlt","price","category","inStock","useEffect","getProductById","String","then","res","data","catch","error","console","log","formik","useFormik","initialValues","enableReinitialize","validationSchema","yup","object","string","required","min","number","onSubmit","values","updateProduct","navigate","alert","response","status","_c","$RefreshReg$"],"sources":["/Users/lironds/Documents/FullStack/HackerU/Projects/PopWiz/popwiz-client/src/components/UserProfile.tsx"],"sourcesContent":["import { FunctionComponent } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\ninterface UserProfileProps {\n  setUserInfo: Function;\n  userInfo: any;\n}\n\nconst UserProfile: FunctionComponent<UserProfileProps> = ({ userInfo, setUserInfo }) => {\n  let { _id } = useParams();\n  let [product, setProduct] = useState<Product>({\n    name: \"\",\n    license: \"\",\n    description: \"\",\n    image: \"\",\n    imageAlt: \"\",\n    price: 0,\n    category: \"\",\n    inStock: \"\",\n  });\n\n  useEffect(() => {\n    getProductById(String(_id))\n      .then((res) => {\n        setProduct(res.data);\n      })\n      .catch((error) => console.log(error));\n  }, []);\n  let formik = useFormik({\n    initialValues: {\n      name: product.name,\n      license: product.license,\n      image: product.image,\n      imageAlt: product.imageAlt,\n      description: product.description,\n      price: product.price,\n      category: product.category,\n      inStock: product.inStock,\n    },\n    enableReinitialize: true,\n\n    validationSchema: yup.object({\n      name: yup.string().required().min(2),\n      license: yup.string().required().min(2),\n      description: yup.string().required().min(6),\n      image: yup.string(),\n      imageAlt: yup.string(),\n      price: yup.number().required(),\n      category: yup.string().required(),\n      inStock: yup.string().required(),\n    }),\n    onSubmit: (values) => {\n      console.log(_id);\n      updateProduct(values, String(_id))\n        .then((res) => {\n          navigate(\"/\");\n          alert(\"Product updated successfully!\");\n        })\n        .catch((error) => {\n          if (error.response && error.response.status === 400) {\n            alert(error.response.data); // Display the error message in an alert\n          } else {\n            console.error(\"Error:\", error);\n          }\n        });\n    },\n  });\n  return <></>;\n};\n\nexport default UserProfile;\n"],"mappings":";AACA,SAASA,SAAS,QAAQ,kBAAkB;AAAC,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAO7C,MAAMC,WAAgD,GAAGA,CAAC;EAAEC,QAAQ;EAAEC;AAAY,CAAC,KAAK;EAAAC,EAAA;EACtF,IAAI;IAAEC;EAAI,CAAC,GAAGT,SAAS,CAAC,CAAC;EACzB,IAAI,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGC,QAAQ,CAAU;IAC5CC,IAAI,EAAE,EAAE;IACRC,OAAO,EAAE,EAAE;IACXC,WAAW,EAAE,EAAE;IACfC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE,CAAC;IACRC,QAAQ,EAAE,EAAE;IACZC,OAAO,EAAE;EACX,CAAC,CAAC;EAEFC,SAAS,CAAC,MAAM;IACdC,cAAc,CAACC,MAAM,CAACd,GAAG,CAAC,CAAC,CACxBe,IAAI,CAAEC,GAAG,IAAK;MACbd,UAAU,CAACc,GAAG,CAACC,IAAI,CAAC;IACtB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC;EACzC,CAAC,EAAE,EAAE,CAAC;EACN,IAAIG,MAAM,GAAGC,SAAS,CAAC;IACrBC,aAAa,EAAE;MACbpB,IAAI,EAAEH,OAAO,CAACG,IAAI;MAClBC,OAAO,EAAEJ,OAAO,CAACI,OAAO;MACxBE,KAAK,EAAEN,OAAO,CAACM,KAAK;MACpBC,QAAQ,EAAEP,OAAO,CAACO,QAAQ;MAC1BF,WAAW,EAAEL,OAAO,CAACK,WAAW;MAChCG,KAAK,EAAER,OAAO,CAACQ,KAAK;MACpBC,QAAQ,EAAET,OAAO,CAACS,QAAQ;MAC1BC,OAAO,EAAEV,OAAO,CAACU;IACnB,CAAC;IACDc,kBAAkB,EAAE,IAAI;IAExBC,gBAAgB,EAAEC,GAAG,CAACC,MAAM,CAAC;MAC3BxB,IAAI,EAAEuB,GAAG,CAACE,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,CAAC;MACpC1B,OAAO,EAAEsB,GAAG,CAACE,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,CAAC;MACvCzB,WAAW,EAAEqB,GAAG,CAACE,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,CAAC;MAC3CxB,KAAK,EAAEoB,GAAG,CAACE,MAAM,CAAC,CAAC;MACnBrB,QAAQ,EAAEmB,GAAG,CAACE,MAAM,CAAC,CAAC;MACtBpB,KAAK,EAAEkB,GAAG,CAACK,MAAM,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC;MAC9BpB,QAAQ,EAAEiB,GAAG,CAACE,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;MACjCnB,OAAO,EAAEgB,GAAG,CAACE,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC;IACjC,CAAC,CAAC;IACFG,QAAQ,EAAGC,MAAM,IAAK;MACpBd,OAAO,CAACC,GAAG,CAACrB,GAAG,CAAC;MAChBmC,aAAa,CAACD,MAAM,EAAEpB,MAAM,CAACd,GAAG,CAAC,CAAC,CAC/Be,IAAI,CAAEC,GAAG,IAAK;QACboB,QAAQ,CAAC,GAAG,CAAC;QACbC,KAAK,CAAC,+BAA+B,CAAC;MACxC,CAAC,CAAC,CACDnB,KAAK,CAAEC,KAAK,IAAK;QAChB,IAAIA,KAAK,CAACmB,QAAQ,IAAInB,KAAK,CAACmB,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;UACnDF,KAAK,CAAClB,KAAK,CAACmB,QAAQ,CAACrB,IAAI,CAAC,CAAC,CAAC;QAC9B,CAAC,MAAM;UACLG,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;QAChC;MACF,CAAC,CAAC;IACN;EACF,CAAC,CAAC;EACF,oBAAOxB,OAAA,CAAAF,SAAA,mBAAI,CAAC;AACd,CAAC;AAACM,EAAA,CA5DIH,WAAgD;EAAA,QACtCL,SAAS;AAAA;AAAAiD,EAAA,GADnB5C,WAAgD;AA8DtD,eAAeA,WAAW;AAAC,IAAA4C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}