{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport * as yup from \"yup\";\nimport { getUserById, updateUser } from \"../services/usersServices\";\nimport { useFormik } from \"formik\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserProfile = ({\n  userInfo,\n  setUserInfo\n}) => {\n  _s();\n  const navigate = useNavigate();\n  let {\n    _id\n  } = useParams();\n  let [user, setUser] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    password: \"\"\n  });\n  useEffect(() => {\n    getUserById(String(_id)).then(res => {\n      setUser(res.data);\n    }).catch(error => console.log(error));\n  }, []);\n  let formik = useFormik({\n    initialValues: {\n      firstName: user.firstName,\n      lastName: user.lastName,\n      email: user.email,\n      password: user.password\n    },\n    enableReinitialize: true,\n    validationSchema: yup.object({\n      firstName: yup.string().required().min(2),\n      lastName: yup.string().required().min(2),\n      email: yup.string().required().email(),\n      password: yup.string().required().min(8)\n    }),\n    onSubmit: values => {\n      console.log(_id);\n      updateUser(values, String(_id)).then(res => {\n        navigate(\"/\");\n        alert(\"user updated successfully!\");\n      }).catch(error => {\n        if (error.response && error.response.status === 400) {\n          alert(error.response.data); // Display the error message in an alert\n        } else {\n          console.error(\"Error:\", error);\n        }\n      });\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n};\n_s(UserProfile, \"o59lDZBYY6JVFTmhIi5KnqlcGxE=\", false, function () {\n  return [useNavigate, useParams, useFormik];\n});\n_c = UserProfile;\nexport default UserProfile;\nvar _c;\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"names":["useEffect","useState","useNavigate","useParams","yup","getUserById","updateUser","useFormik","Fragment","_Fragment","jsxDEV","_jsxDEV","UserProfile","userInfo","setUserInfo","_s","navigate","_id","user","setUser","firstName","lastName","email","password","String","then","res","data","catch","error","console","log","formik","initialValues","enableReinitialize","validationSchema","object","string","required","min","onSubmit","values","alert","response","status","_c","$RefreshReg$"],"sources":["/Users/lironds/Documents/FullStack/HackerU/Projects/PopWiz/popwiz-client/src/components/UserProfile.tsx"],"sourcesContent":["import { FunctionComponent, useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport * as yup from \"yup\";\nimport User from \"../interfaces/User\";\nimport { getUserById, updateUser } from \"../services/usersServices\";\nimport { useFormik } from \"formik\";\n\ninterface UserProfileProps {\n  setUserInfo: Function;\n  userInfo: any;\n}\n\nconst UserProfile: FunctionComponent<UserProfileProps> = ({ userInfo, setUserInfo }) => {\n  const navigate = useNavigate();\n\n  let { _id } = useParams();\n  let [user, setUser] = useState<User>({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    password: \"\",\n  });\n\n  useEffect(() => {\n    getUserById(String(_id))\n      .then((res) => {\n        setUser(res.data);\n      })\n      .catch((error) => console.log(error));\n  }, []);\n  let formik = useFormik({\n    initialValues: {\n      firstName: user.firstName,\n      lastName: user.lastName,\n      email: user.email,\n      password: user.password,\n    },\n    enableReinitialize: true,\n\n    validationSchema: yup.object({\n      firstName: yup.string().required().min(2),\n      lastName: yup.string().required().min(2),\n      email: yup.string().required().email(),\n      password: yup.string().required().min(8),\n    }),\n    onSubmit: (values) => {\n      console.log(_id);\n      updateUser(values, String(_id))\n        .then((res) => {\n          navigate(\"/\");\n          alert(\"user updated successfully!\");\n        })\n        .catch((error) => {\n          if (error.response && error.response.status === 400) {\n            alert(error.response.data); // Display the error message in an alert\n          } else {\n            console.error(\"Error:\", error);\n          }\n        });\n    },\n  });\n  return <></>;\n};\n\nexport default UserProfile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}